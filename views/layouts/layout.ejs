<!DOCTYPE html>
<html>
  <head>
    <title>New Sails App</title>
    <%if(req.customer){%>
      <script src="https://js.stripe.com/v3/"></script>
    <%}%>

    <!-- Viewport mobile tag for sensible mobile support -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <%/* If you want to discourage search engines from indexing this site, uncomment the following line: */%>
    <%/* <meta name="robots" content="noindex"> */%>


    <!--
        Stylesheets and Preprocessors
        ==============================

        You can always bring in CSS files manually with `<link>` tags, or asynchronously
        using a solution like AMD (RequireJS).  Or, if you like, you can take advantage
        of Sails' conventional asset pipeline (boilerplate Gruntfile).

        By default, stylesheets from your `assets/styles` folder are included
        here automatically (between STYLES and STYLES END). Both CSS (.css) and LESS (.less)
        are supported. In production, your styles will be minified and concatenated into
        a single file.

        To customize any part of the built-in behavior, just edit `tasks/pipeline.js`.
        For example, here are a few things you could do:

            + Change the order of your CSS files
            + Import stylesheets from other directories
            + Use a different or additional preprocessor, like SASS, SCSS or Stylus
    -->

    <!--STYLES-->
    <link rel="stylesheet" href="/dependencies/vendor/animsition/animsition.min.css">
    <link rel="stylesheet" href="/dependencies/vendor/bootstrap-4.1/bootstrap.min.css">
    <link rel="stylesheet" href="/dependencies/vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css">
    <link rel="stylesheet" href="/dependencies/vendor/perfect-scrollbar/perfect-scrollbar.css">
    <link rel="stylesheet" href="/dependencies/vendor/select2/select2.min.css">
    <link rel="stylesheet" href="/dependencies/vendor/slick/slick-theme.css">
    <link rel="stylesheet" href="/dependencies/vendor/slick/slick.css">
    <link rel="stylesheet" href="/dependencies/vendor/wow/animate.css">
    <link rel="stylesheet" href="/styles/vendor/animsition/animsition.min.css">
    <link rel="stylesheet" href="/styles/vendor/bootstrap-4.1/bootstrap.min.css">
    <link rel="stylesheet" href="/styles/vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css">
    <link rel="stylesheet" href="/styles/vendor/css-hamburgers/hamburgers.css">
    <link rel="stylesheet" href="/styles/vendor/css-hamburgers/hamburgers.min.css">
    <link rel="stylesheet" href="/styles/vendor/font-awesome-4.7/css/font-awesome.css">
    <link rel="stylesheet" href="/styles/vendor/font-awesome-4.7/css/font-awesome.min.css">
    <link rel="stylesheet" href="/styles/vendor/font-awesome-5/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="/styles/vendor/mdi-font/css/material-design-iconic-font.css">
    <link rel="stylesheet" href="/styles/vendor/mdi-font/css/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="/styles/vendor/perfect-scrollbar/perfect-scrollbar.css">
    <link rel="stylesheet" href="/styles/vendor/select2/select2.min.css">
    <link rel="stylesheet" href="/styles/vendor/slick/slick-theme.css">
    <link rel="stylesheet" href="/styles/vendor/slick/slick.css">
    <link rel="stylesheet" href="/styles/vendor/wow/animate.css">
    <link rel="stylesheet" href="/styles/css/font-face.css">
    <link rel="stylesheet" href="/styles/css/overhang.min.css">
    <link rel="stylesheet" href="/styles/css/theme.css">
    <link rel="stylesheet" href="/styles/css/toastr.min.css">
    <link rel="stylesheet" href="/styles/importer.css">
    <!--STYLES END-->
  </head>

<!--  <div class="d-block d-sm-none">xs</div>-->
<!--  <div class="d-none d-sm-block d-md-none">sm</div>-->
<!--  <div class="d-none d-md-block d-lg-none">md</div>-->
<!--  <div class="d-none d-lg-block d-xl-none">lg</div>-->
<!--  <div class="d-none d-xl-block">xl</div>-->
  <body class="animsition">
  <div class="page-wrapper">
    <!-- HEADER DESKTOP-->
    <%- partial('../partials/header-desktop.ejs') %>
    <!-- END HEADER DESKTOP-->

    <!-- HEADER MOBILE-->
    <%- partial('../partials/header-mobile.ejs') %>
    <!-- END HEADER MOBILE -->

    <!-- PAGE CONTENT-->
    <div class="page-content--bgf7">
      <%- body %>
    </div>

  </div>




    <!--
        Client-side Templates
        ========================

        HTML templates are important prerequisites of modern, rich client applications.
        To work their magic, frameworks like React, Vue.js, Angular, Ember, and Backbone
        require that you load these templates client-side.

        By default, your Gruntfile is configured to automatically load and precompile
        client-side JST templates in your `assets/templates` folder, then
        include them here automatically (between TEMPLATES and TEMPLATES END).

        To customize this behavior to fit your needs, just edit `tasks/pipeline.js`.
        For example, here are a few things you could do:

            + Import templates from other directories
            + Use a different view engine (handlebars, dust, pug/jade, etc.)
            + Internationalize your client-side templates using a server-side
              stringfile before they're served.
    -->

    <!--TEMPLATES-->
    <!--TEMPLATES END-->


    <!--
        Server-side View Locals
        ========================

        Sometimes, it's convenient to get access to your server-side view locals from
        client-side JavaScript.  This can improve page load times, remove the need for
        extra AJAX requests, and make your client-side code easier to understand and
        to maintain.  Sails provides a simple mechanism for accessing dynamic view
        locals: the "exposeLocalsToBrowser()" view partial.

        For more information on using this built-in feature, see:
        https://sailsjs.com/docs/concepts/views/locals#?escaping-untrusted-data-using-exposelocalstobrowser

    -->


    <!--

      Client-side Javascript
      ========================

      You can always bring in JS files manually with `script` tags, or asynchronously
      on the client using a solution like AMD (RequireJS).  Or, if you like, you can
      take advantage of Sails' conventional asset pipeline (boilerplate Gruntfile).

      By default, files in your `assets/js` folder are included here
      automatically (between SCRIPTS and SCRIPTS END).  Both JavaScript (.js) and
      CoffeeScript (.coffee) are supported. In production, your scripts will be minified
      and concatenated into a single file.

      To customize any part of the built-in behavior, just edit `tasks/pipeline.js`.
      For example, here are a few things you could do:

          + Change the order of your scripts
          + Import scripts from other directories
          + Use a different preprocessor, like TypeScript

    -->

    <!--SCRIPTS-->
    <script src="/dependencies/required/sails.io.js"></script>
    <script src="/dependencies/required/lodash.js"></script>
    <script src="/dependencies/required/bowser.js"></script>
    <script src="/dependencies/required/vue.js"></script>
    <script src="/dependencies/required/parasails.js"></script>
    <script src="/dependencies/required/jquery-3.4.1.min.js"></script>
    <script src="/dependencies/vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="/dependencies/vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <script src="/dependencies/vendor/slick/slick.min.js"></script>
    <script src="/dependencies/vendor/wow/wow.min.js"></script>
    <script src="/dependencies/vendor/animsition/animsition.min.js"></script>
    <script src="/dependencies/vendor/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <script src="/dependencies/vendor/counter-up/jquery.waypoints.min.js"></script>
    <script src="/dependencies/vendor/counter-up/jquery.counterup.min.js"></script>
    <script src="/dependencies/vendor/circle-progress/circle-progress.min.js"></script>
    <script src="/dependencies/vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="/dependencies/vendor/chartjs/Chart.bundle.min.js"></script>
    <script src="/dependencies/vendor/select2/select2.min.js"></script>
    <script src="/dependencies/plugins/overhang.min.js"></script>
    <script src="/dependencies/plugins/toastr.min.js"></script>
    <script src="/dependencies/i18n/I.js"></script>
    <script src="/dependencies/i18n/i18n.min.js"></script>
    <script src="/dependencies/ion.sound-3.0.7/ion.sound.js"></script>
    <script src="/dependencies/ion.sound-3.0.7/ion.sound.min.js"></script>
    <script src="/dependencies/ion.sound-3.0.7/Sounds.js"></script>
    <script src="/dependencies/main.js"></script>
    <script src="/dependencies/business/api.js"></script>
    <script src="/dependencies/business/OverHang.js"></script>
    <script src="/dependencies/business/sockets.js"></script>
    <script src="/dependencies/business/stripeO.js"></script>
    <script src="/dependencies/business/toast.js"></script>
    <script src="/dependencies/business/util.js"></script>
    <script src="/dependencies/business/webServices.js"></script>
    <script src="/js/pages/admin/customer/all.page.js"></script>
    <script src="/js/pages/admin/index.page.js"></script>
    <script src="/js/pages/admin/login.page.js"></script>
    <script src="/js/pages/admin/professional/all.page.js"></script>
    <script src="/js/pages/chat/chat.page.js"></script>
    <script src="/js/pages/customer/historic.page.js"></script>
    <script src="/js/pages/customer/register/index.page.js"></script>
    <script src="/js/pages/customer/topUp.page.js"></script>
    <script src="/js/pages/home.page.js"></script>
    <script src="/js/pages/partial-view/professionals-home.page.js"></script>
    <script src="/js/pages/professional/register.page.js"></script>
    <script src="/js/pages/test.page.js"></script>
    <script src="/js/pages/user/login.page.js"></script>
    <!--SCRIPTS END-->
  <script>
    var disconnected= false;
    io.sails.reconnection = true;
    // handle connect socket first event executes after logged in
    io.socket.on('connect', function (socket){
     if(disconnected){
       location.reload();
     }
    });
    io.socket.on('disconnect', function (socket){
      disconnected = true;
    });
  </script>
  <!--Script to connect to the socket-->
  <%if(req.user){%>
    <script>
        //Subscribe to professionals socket
        Sockets.mySocket();
    </script>
  <%}%>

  </body>
</html>
